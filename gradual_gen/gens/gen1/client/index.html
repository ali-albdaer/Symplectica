<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>N-Body Space Simulator</title>
  <link rel="stylesheet" href="/src/styles/main.css">
</head>
<body>
  <canvas id="canvas"></canvas>
  
  <!-- UI Overlay -->
  <div id="ui-overlay">
    <!-- Connect Modal -->
    <div id="connect-modal" class="modal">
      <div class="modal-content">
        <h1>ðŸš€ N-Body Space Simulator</h1>
        <p class="subtitle">A multiplayer space simulator with real physics</p>
        <div class="form-group">
          <label for="player-name">Your Name</label>
          <input type="text" id="player-name" placeholder="Commander" maxlength="24" autofocus>
        </div>
        <div class="form-group">
          <label for="server-url">Server</label>
          <input type="text" id="server-url" placeholder="ws://localhost:8080" value="ws://localhost:8080">
        </div>
        <button id="connect-btn" class="primary-btn">Connect</button>
        <p id="connect-error" class="error"></p>
        <div class="credits">
          <small>Data: NASA/JPL Horizons | Physics: SI Units</small>
        </div>
      </div>
    </div>
    
    <!-- Spawn Location Modal -->
    <div id="spawn-modal" class="modal hidden">
      <div class="modal-content wide">
        <h2>Choose Spawn Location</h2>
        <p class="subtitle">Select a celestial body to spawn near</p>
        <div id="planet-grid"></div>
        <button id="start-btn" class="primary-btn">Launch</button>
      </div>
    </div>
    
    <!-- Controls Modal -->
    <div id="controls-modal" class="modal hidden">
      <div class="modal-content">
        <h2>Controls</h2>
        <ul class="controls-list">
          <li><kbd>W</kbd> <kbd>A</kbd> <kbd>S</kbd> <kbd>D</kbd> - Move</li>
          <li><kbd>Space</kbd> - Ascend</li>
          <li><kbd>Shift</kbd> - Descend</li>
          <li><kbd>Click</kbd> - Look around (pointer lock)</li>
          <li><kbd>Scroll</kbd> - Zoom in/out</li>
          <li><kbd>T</kbd> or <kbd>Enter</kbd> - Open chat</li>
          <li><kbd>Esc</kbd> - Release mouse</li>
        </ul>
        <button id="controls-ok" class="primary-btn">Got it!</button>
      </div>
    </div>
    
    <!-- HUD -->
    <div id="hud" class="hidden">
      <div id="hud-left">
        <div class="hud-row">
          <span class="label">Position:</span>
          <span id="position-value">0, 0, 0</span>
        </div>
        <div class="hud-row">
          <span class="label">Velocity:</span>
          <span id="velocity-value">0 m/s</span>
        </div>
        <div class="hud-row">
          <span class="label">Near:</span>
          <span id="current-body">-</span>
        </div>
      </div>
      <div id="hud-right">
        <div class="hud-row">
          <span class="label">FPS:</span>
          <span id="fps-value">60</span>
        </div>
        <div class="hud-row">
          <span class="label">Ping:</span>
          <span id="ping-value">- ms</span>
        </div>
        <div class="hud-row">
          <span class="label">Tick:</span>
          <span id="tick-value">0</span>
        </div>
        <div class="hud-row">
          <span class="label">Time:</span>
          <span id="sim-time">J2000.0</span>
        </div>
      </div>
    </div>
    
    <!-- Chat -->
    <div id="chat-container">
      <div id="chat-messages"></div>
      <input type="text" id="chat-input" class="hidden" placeholder="Press Enter to send, Esc to cancel..." maxlength="256">
    </div>
  </div>
  
  <script type="module" src="/src/main.ts"></script>
</body>
</html>
