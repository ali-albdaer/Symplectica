<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>N-Body Space Simulator</title>
  <link rel="stylesheet" href="/styles/main.css">
</head>
<body>
  <div id="app">
    <!-- Three.js Canvas -->
    <canvas id="canvas"></canvas>
    
    <!-- UI Overlay -->
    <div id="ui-overlay">
      <!-- Connection Modal -->
      <div id="connection-modal" class="modal">
        <div class="modal-content">
          <h1>N-Body Space Simulator</h1>
          <p>High-Fidelity Multiplayer Space Simulation</p>
          <div class="input-group">
            <label for="player-name">Enter your name:</label>
            <input type="text" id="player-name" placeholder="Commander" maxlength="32">
          </div>
          <button id="connect-btn" class="btn-primary">Connect</button>
          <p class="version">v1.0.0 | SI Units | 60Hz Physics</p>
        </div>
      </div>

      <!-- Planet Selection Modal -->
      <div id="spawn-modal" class="modal hidden">
        <div class="modal-content wide">
          <h2>Select Spawn Location</h2>
          <div id="planet-grid" class="planet-grid">
            <!-- Populated dynamically -->
          </div>
        </div>
      </div>

      <!-- Controls Modal -->
      <div id="controls-modal" class="modal hidden">
        <div class="modal-content">
          <h2>Controls</h2>
          <div class="controls-grid">
            <div class="control-group">
              <h3>Movement</h3>
              <div class="control-row"><kbd>W</kbd><span>Forward</span></div>
              <div class="control-row"><kbd>S</kbd><span>Backward</span></div>
              <div class="control-row"><kbd>A</kbd><span>Left</span></div>
              <div class="control-row"><kbd>D</kbd><span>Right</span></div>
              <div class="control-row"><kbd>Space</kbd><span>Jump / Up</span></div>
              <div class="control-row"><kbd>Shift</kbd><span>Sprint / Down</span></div>
            </div>
            <div class="control-group">
              <h3>Camera</h3>
              <div class="control-row"><kbd>Mouse</kbd><span>Look around</span></div>
              <div class="control-row"><kbd>Scroll</kbd><span>Zoom</span></div>
              <div class="control-row"><kbd>Q/E</kbd><span>Roll (space)</span></div>
            </div>
            <div class="control-group">
              <h3>Actions</h3>
              <div class="control-row"><kbd>Enter</kbd><span>Chat</span></div>
              <div class="control-row"><kbd>1</kbd><span>Telescope</span></div>
              <div class="control-row"><kbd>Tab</kbd><span>Map</span></div>
              <div class="control-row"><kbd>Esc</kbd><span>Menu</span></div>
            </div>
          </div>
          <button id="start-btn" class="btn-primary">Start</button>
        </div>
      </div>

      <!-- HUD -->
      <div id="hud" class="hidden">
        <!-- Coordinates -->
        <div id="coordinates" class="hud-panel top-left">
          <div class="coord-line">Position: <span id="pos-display">0, 0, 0</span> m</div>
          <div class="coord-line">Velocity: <span id="vel-display">0</span> m/s</div>
          <div class="coord-line">Altitude: <span id="alt-display">0</span> m</div>
          <div class="coord-line">SOI: <span id="soi-display">-</span></div>
        </div>

        <!-- Diagnostics -->
        <div id="diagnostics" class="hud-panel top-right">
          <div class="diag-line">FPS: <span id="fps-display">0</span></div>
          <div class="diag-line">Ping: <span id="ping-display">0</span> ms</div>
          <div class="diag-line">Tick: <span id="tick-display">0</span></div>
          <div class="diag-line">Time: <span id="time-display">0</span> s</div>
        </div>

        <!-- Chat -->
        <div id="chat" class="hud-panel bottom-left">
          <div id="chat-messages"></div>
          <input type="text" id="chat-input" class="hidden" placeholder="Type a message...">
        </div>

        <!-- Crosshair -->
        <div id="crosshair">+</div>
      </div>
    </div>
  </div>
  
  <script type="module" src="/src/index.ts"></script>
</body>
</html>
